---
title: '完全なP2Pノード運用に近づく'
date: 2024-03-14T09:19:42+01:00
lastmod: 2024-03-14T09:19:42+01:00
draft: false
weight: 50
images: []
categories: ["IOHK"]
tags: ["security", "performance", "SEO"]
contributors: ["Marcin Szamotulski"]
pinned: false
homepage: false
menu:
  blog:
    parent: "IOHK"
---

ピアツーピア (P2P) ネットワーキングは、ブロックチェーンの長期的な分散化、セキュリティ、および回復力に大きく貢献し、参加者間の P2P 通信、データ同期、およびコンセンサスを可能にします。

2023 年 3 月、 [ダイナミック P2P](https://iohk.io/en/blog/posts/2023/03/16/dynamic-p2p-is-coming-to-cardano/)によりピア選択プロセスが自動化されました。ノード[v.1.35.6](https://github.com/IntersectMBO/cardano-node/releases/tag/1.35.6)リリースによって有効化され、分散ノード間の通信が強化され、リレーノードとブロック生成ノードの操作が簡素化され、静的構成やステークプール オペレーター (SPO) からの手動入力が不要になりました。

完全な P2P ノード運用に向けた次の (そして最後の) ウェイポイントは、Ouroboros Genesis のリリースで実現する予定です。Genesis は、今年の夏を目標に Chang アップグレードの一部として導入される予定です。これにより、ノードはライブ Cardano ネットワークから自己ブートストラップできるようになります。

### 完全なP2P移行

現在、ネットワークへの最初のエントリーには、安全で信頼できるバリデーター（通常は信頼できる仲間の SPO または別のエンティティ）からの同期が必要です。ノードが同期されると、 [Ouroboros Praos を使用して分散的に動作します。Ouroboros Genesis は](https://iohk.io/en/research/library/papers/ouroboros-praos-an-adaptively-secure-semi-synchronous-proof-of-stake-protocol/)プロセスをさらに簡素化します。cardano-node の P2P 機能を使用すると、プロセスは完全に自律的になり、人間の介入が不要になります。

現在のハイブリッド モデルから完全な P2P ネットワーキングへの移行プロセスは段階的であり、移行はすでに進行中です。PoolTool[に](https://pooltool.io/networkhealth)よると、SPO の約 65% が 12 月にリリースされたノード v.8.7.3 にアップグレードし、5% が最新バージョンの P2P を含む[v.8.9.0](https://github.com/IntersectMBO/cardano-node/releases/tag/8.9.0)にアップグレードしました。IOG と Cardano Foundation のエンジニアは共同で、個々の SPO を特定し、連絡を取り、通知して、P2P をサポートするために十分なリレーを実行していることを確認し、ウォレット、DApp、取引所、その他のノード ユーザーと通信して、必要に応じてノードをアップグレードできるようにします。

### Ouroboros Genesis に向けて: 一時的なブートストラップ ネットワークと「Genesis Lite」

個々のノードが長時間のダウンタイムを経験したり、ネットワークとの同期が取れなくなったりすると、自己ブートストラップ プロセスを実行する必要があります。これは、ネットワークに参加する新しいノードにも適用されます。Ouroboros Genesis の展開に先立つ暫定措置として、IOG と EMURGO は、約 20 の信頼できるノードで構成される新しい専用ブートストラップ ネットワークである Genesis Lite をユーザーに提供します。この信頼できるブートストラップ リレー ネットワークは、需要に応じて拡張され、Cardano Genesis 構成からのノードのブートストラップを容易にします。新しくブートストラップされたノードは、最初は最新の信頼できるノードに従い、現在の先端に近づくと P2P に切り替える必要があります。以前のバージョンでは、この移行は、ノード所有者がトポロジ ファイルでスロットを指定して手動で実行する必要がありました。

### エコシステムのアップグレード

ノード所有者によるタイムリーなアップグレードは、完全な P2P のシームレスな展開と、Cardano ネットワークに必要なサービス品質の維持に不可欠です。完全な P2P システムへの移行中、すべてのノード所有者は、ノードを P2P メカニズムを完全にサポートするバージョンにアップグレードする必要があります。ユーザーは、サービス プロバイダーがアップグレードを完了していることも確認する必要があります。これは、DApp プロバイダー、取引所、ウォレット プロバイダー、エクスプローラー、その他のツール、ステーク プールに適用されます。

IOG は現在、Daedalus、Lace、Nami など、サポートしているツールを新しい P2P ツールに適合させるためアップグレードしています。Cardano Foundation の Adrestia チームもウォレット バックエンドのアップグレードに取り組んでいます。DB Sync は変更なく引き続き機能します。IOG と CF エンジニアリング チームは SPO コミュニティとともに、ネットワーク パフォーマンスとサービス品質を毎日監視し、主要な関係者と定期的にコミュニケーションを取ります。

**今週、すべての SPO、取引所、DApp 開発者、インフラストラクチャ プロバイダー、およびその他のノード ユーザーは、最新のノード バージョン 8.9.0 にアップグレードし、すべてのリレー ノードを P2P モードで実行することが推奨されています。SPO**のリレー ノードの背後でファイアウォールで保護されたブロック プロデューサーは、 `useLedgerAfterSlot`を -1 に設定してブロック生成ノードで P2P モードを使用することもできます。また、必要に応じて、従来のネットワークを使用してリレー ノードと通信し続けることもできます。ツール プロバイダーは、トポロジ ファイルでローカル ルートを使用して独自のカスタム トポロジを構成し、 `useLedgerAfterSlot`を -1 に設定してピア検出を無効にすることもできます。

Source: [iohk.io](https://iohk.io/en/blog/posts/2024/03/14/approaching-full-p2p-node-operations/)